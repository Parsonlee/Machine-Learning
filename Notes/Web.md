# Nginx

1. 在前后端分离的 Web 应用程序中,Nginx 通常承担反向代理服务器和静态资源服务器的角色。具体来说,它主要提供以下两个关键功能:

   1. **反向代理**
      Nginx 可以作为中间层负载均衡器,将客户端请求转发给上游的多个后端服务器(如 Web 应用服务器)。这提高了系统的可靠性和灵活性,也方便进行扩缩容操作。

   2. **静态资源服务**
      前端项目通常会构建并生成静态资源文件,如 HTML、CSS、JavaScript 和图片等。Nginx 可以高效地响应这些静态资源文件的请求,从而减轻后端服务器的负担。

   3. **Nginx 与前端项目的关系**可以概括如下:

      1. 分离静态资源
         前端项目构建完成后,静态资源文件通常会部署到 Nginx 服务器上。Nginx 会根据配置,为这些静态资源提供高效的服务能力,缓解后端服务器的压力。

      2. 反向代理后端服务
         对于需要由后端服务动态渲染的路由,Nginx 会将请求转发至对应的后端服务器。通过反向代理,前端项目不需要直接暴露后端服务的访问入口,从而提高了安全性。

      3. 跨域请求处理
         前端项目很可能需要向后端服务发起跨域请求。在这种情况下,可以通过在 Nginx 中配置反向代理规则,实现跨域资源共享(CORS)策略。

   总的来说,Nginx 作为中间层,不仅提高了前后端分离架构的性能和可扩展性,而且增强了安全性。它使前端项目能够高效地提供静态资源服务,同时方便地连接和代理后端服务。

2. 反向代理(Reverse Proxy)是一种代理服务器,它位于内部网络和互联网之间,用于转发客户端请求到内部网络上的服务器。反向代理的工作原理如下:

   1. **接收客户端请求**
      当客户端(例如浏览器)发送请求时,请求会被发送到反向代理服务器,而非最终的目标服务器。

   2. **转发请求到后端服务器**
      反向代理服务器会根据配置规则,将用户的请求转发到内部网络中的一台或多台服务器上。这些服务器通常是 Web 应用服务器或其他应用程序服务器。

   3. **获取后端服务器的响应**
      后端服务器处理完请求后,会将响应数据返回给反向代理服务器。

   4. **响应客户端请求**
      反向代理服务器会将从后端服务器获取的响应数据转发给最初发出请求的客户端。

反向代理服务器对外只暴露一个 IP 地址和端口,隐藏了内部网络结构,增强了安全性。同时,它也具有负载均衡、缓存等功能,可以提高系统的性能和可用性。
常见的反向代理服务器有 Nginx、Apache、HAProxy 等。在前后端分离的 Web 应用中,Nginx 通常被用作反向代理服务器,将前端请求转发到后端服务器,并提供静态资源服务。
